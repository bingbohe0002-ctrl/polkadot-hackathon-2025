# Hardhat æœ¬åœ°ç½‘ç»œ + MetaMask é…ç½®æŒ‡å—

æœ¬æŒ‡å—å°†å¸®åŠ©ä½ åœ¨ MetaMask ä¸­é…ç½® Hardhat æœ¬åœ°ç½‘ç»œå¹¶å¯¼å…¥æµ‹è¯•è´¦æˆ·ã€‚

## âœ… å·²å®Œæˆçš„é…ç½®

å‰ç«¯å·²ç»é…ç½®å¥½æ”¯æŒ Hardhat æœ¬åœ°ç½‘ç»œï¼š

- âœ… `src/config/chains.ts` - æ·»åŠ äº† Hardhat é“¾é…ç½®
- âœ… `src/config/wagmi.ts` - æ›´æ–°äº† wagmi é…ç½®ä»¥æ”¯æŒæœ¬åœ°ç½‘ç»œ

## ğŸ“ æ­¥éª¤å››ï¼šåœ¨ MetaMask ä¸­æ·»åŠ æœ¬åœ°ç½‘ç»œå’Œè´¦æˆ·

### 1. æ·»åŠ  Hardhat æœ¬åœ°ç½‘ç»œåˆ° MetaMask

#### æ–¹å¼ä¸€ï¼šæ‰‹åŠ¨æ·»åŠ ï¼ˆæ¨èï¼‰

1. **æ‰“å¼€ MetaMask æ‰©å±•**
2. **ç‚¹å‡»é¡¶éƒ¨çš„ç½‘ç»œä¸‹æ‹‰èœå•**ï¼ˆé»˜è®¤æ˜¾ç¤º "Ethereum Mainnet"ï¼‰
3. **ç‚¹å‡»åº•éƒ¨çš„ "æ·»åŠ ç½‘ç»œ" æˆ– "Add network"**
4. **ç‚¹å‡» "æ‰‹åŠ¨æ·»åŠ ç½‘ç»œ" æˆ– "Add a network manually"**
5. **å¡«å†™ä»¥ä¸‹ä¿¡æ¯ï¼š**
   ```
   ç½‘ç»œåç§°ï¼ˆNetwork Nameï¼‰: Hardhat Local
   æ–°çš„ RPC URLï¼ˆNew RPC URLï¼‰: http://127.0.0.1:8545
   é“¾ IDï¼ˆChain IDï¼‰: 31337
   è´§å¸ç¬¦å·ï¼ˆCurrency Symbolï¼‰: ETH
   åŒºå—æµè§ˆå™¨ URLï¼ˆå¯é€‰ï¼‰: (ç•™ç©º)
   ```
6. **ç‚¹å‡» "ä¿å­˜" æˆ– "Save"**
7. **åˆ‡æ¢åˆ° "Hardhat Local" ç½‘ç»œ**

#### æ–¹å¼äºŒï¼šé€šè¿‡å‰ç«¯åº”ç”¨æ·»åŠ 

1. å¯åŠ¨ä½ çš„å‰ç«¯åº”ç”¨ï¼š`pnpm dev`
2. æ‰“å¼€ http://localhost:3000
3. ç‚¹å‡»é’±åŒ…è¿æ¥æŒ‰é’®
4. å½“åº”ç”¨è¯·æ±‚åˆ‡æ¢åˆ° Hardhat ç½‘ç»œæ—¶ï¼ŒMetaMask ä¼šè‡ªåŠ¨æç¤ºä½ æ·»åŠ è¯¥ç½‘ç»œ
5. ç‚¹å‡» "æ‰¹å‡†" æˆ– "Approve"

### 2. å¯¼å…¥æµ‹è¯•è´¦æˆ·åˆ° MetaMask

Hardhat ä¸ºä½ æä¾›äº† 20 ä¸ªé¢„å……å€¼çš„æµ‹è¯•è´¦æˆ·ï¼Œæ¯ä¸ªè´¦æˆ·éƒ½æœ‰ 10000 ETHã€‚

#### å¯¼å…¥ Account #0ï¼ˆæ¨èç”¨äºå¼€å‘ï¼‰

1. **æ‰“å¼€ MetaMask**
2. **ç‚¹å‡»å³ä¸Šè§’çš„è´¦æˆ·å›¾æ ‡**
3. **é€‰æ‹© "å¯¼å…¥è´¦æˆ·" æˆ– "Import Account"**
4. **é€‰æ‹©å¯¼å…¥ç±»å‹ï¼šç§é’¥ï¼ˆPrivate Keyï¼‰**
5. **ç²˜è´´ä»¥ä¸‹ç§é’¥ï¼š**
   ```
   0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80
   ```
6. **ç‚¹å‡» "å¯¼å…¥" æˆ– "Import"**
7. **å»ºè®®é‡å‘½åè´¦æˆ·ä¸º "Hardhat #0"**ï¼ˆç‚¹å‡»è´¦æˆ·åç§°å¯ç¼–è¾‘ï¼‰

#### å¯¼å…¥æ›´å¤šæµ‹è¯•è´¦æˆ·ï¼ˆå¯é€‰ï¼‰

ä½ å¯ä»¥å¯¼å…¥æ›´å¤šè´¦æˆ·ç”¨äºæµ‹è¯•å¤šç”¨æˆ·åœºæ™¯ï¼š

**Account #1**

- åœ°å€ï¼š`0x70997970C51812dc3A010C7d01b50e0d17dc79C8`
- ç§é’¥ï¼š`0x59c6995e998f97a5a0044966f0945389dc9e86dae88c7a8412f4603b6b78690d`

**Account #2**

- åœ°å€ï¼š`0x3C44CdDdB6a900fa2b585dd299e03d12FA4293BC`
- ç§é’¥ï¼š`0x5de4111afa1a4b94908f83103eb1f1706367c2e68ca870fc3fb9a804cdab365a`

**Account #3**

- åœ°å€ï¼š`0x90F79bf6EB2c4f870365E785982E1f101E93b906`
- ç§é’¥ï¼š`0x7c852118294e51e653712a81e05800f419141751be58f605c371e15141b007a6`

é‡å¤ä¸Šè¿°å¯¼å…¥æ­¥éª¤ï¼Œä½¿ç”¨ä¸åŒçš„ç§é’¥å³å¯ã€‚

### 3. éªŒè¯é…ç½®

1. **ç¡®ä¿ MetaMask å·²åˆ‡æ¢åˆ° "Hardhat Local" ç½‘ç»œ**
2. **æ£€æŸ¥è´¦æˆ·ä½™é¢åº”è¯¥æ˜¾ç¤º 10000 ETH**
3. **æ‰“å¼€å‰ç«¯åº”ç”¨å¹¶å°è¯•è¿æ¥é’±åŒ…**
4. **ä½ åº”è¯¥èƒ½çœ‹åˆ° "Hardhat Local" å‡ºç°åœ¨ç½‘ç»œé€‰æ‹©ä¸­**

## âš ï¸ é‡è¦æç¤º

### å®‰å…¨è­¦å‘Š

- âš ï¸ **è¿™äº›ç§é’¥æ˜¯å…¬å¼€çš„ï¼Œä»…ç”¨äºæœ¬åœ°å¼€å‘**
- âš ï¸ **åˆ‡å‹¿åœ¨ä»»ä½•çœŸå®ç½‘ç»œï¼ˆä¸»ç½‘ã€æµ‹è¯•ç½‘ï¼‰ä¸­ä½¿ç”¨è¿™äº›ç§é’¥**
- âš ï¸ **åˆ‡å‹¿å‘è¿™äº›åœ°å€åœ¨çœŸå®ç½‘ç»œä¸Šå‘é€ä»»ä½•æœ‰ä»·å€¼çš„ä»£å¸**

### é‡å¯ Hardhat èŠ‚ç‚¹å

æ¯æ¬¡é‡å¯ `npx hardhat node` æ—¶ï¼š

- âœ… æ‰€æœ‰è´¦æˆ·ä½™é¢ä¼šé‡ç½®ä¸º 10000 ETH
- âœ… æ‰€æœ‰å·²éƒ¨ç½²çš„åˆçº¦ä¼šè¢«æ¸…é™¤
- âœ… æ‰€æœ‰äº¤æ˜“å†å²ä¼šè¢«æ¸…é™¤
- âš ï¸ ä½ éœ€è¦é‡æ–°éƒ¨ç½²æ‰€æœ‰åˆçº¦

### MetaMask æ˜¾ç¤ºé—®é¢˜

å¦‚æœé‡åˆ°ä»¥ä¸‹é—®é¢˜ï¼š

**é—®é¢˜ 1ï¼šä½™é¢æ˜¾ç¤ºä¸º 0 æˆ–ä¸æ­£ç¡®**

- è§£å†³æ–¹æ¡ˆï¼šæ‰“å¼€ MetaMask è®¾ç½® â†’ é«˜çº§ â†’ æ¸…é™¤æ´»åŠ¨æ ‡ç­¾æ•°æ®

**é—®é¢˜ 2ï¼šäº¤æ˜“ nonce é”™è¯¯**

- è§£å†³æ–¹æ¡ˆï¼šæ‰“å¼€ MetaMask è®¾ç½® â†’ é«˜çº§ â†’ é‡ç½®è´¦æˆ·

**é—®é¢˜ 3ï¼šæ— æ³•è¿æ¥åˆ°æœ¬åœ°èŠ‚ç‚¹**

- ç¡®ä¿ Hardhat èŠ‚ç‚¹æ­£åœ¨è¿è¡Œï¼ˆ`npx hardhat node`ï¼‰
- ç¡®ä¿ RPC URL æ˜¯ `http://127.0.0.1:8545`
- æ£€æŸ¥é˜²ç«å¢™è®¾ç½®

## ğŸš€ ä¸‹ä¸€æ­¥

é…ç½®å®Œæˆåï¼Œä½ å¯ä»¥ï¼š

1. **å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨ï¼š**

   ```bash
   pnpm dev
   ```

2. **éƒ¨ç½²åˆçº¦åˆ°æœ¬åœ°ç½‘ç»œï¼š**

   ```bash
   cd contracts
   npx hardhat run scripts/deploy.js --network localhost
   ```

3. **åœ¨æµè§ˆå™¨ä¸­æµ‹è¯•ï¼š**
   - æ‰“å¼€ http://localhost:3000
   - è¿æ¥ MetaMask é’±åŒ…
   - é€‰æ‹© Hardhat Local ç½‘ç»œ
   - å¼€å§‹ä¸åˆçº¦äº¤äº’

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [Hardhat å®˜æ–¹æ–‡æ¡£](https://hardhat.org/docs)
- [MetaMask å¼€å‘è€…æ–‡æ¡£](https://docs.metamask.io/)
- [Wagmi æ–‡æ¡£](https://wagmi.sh/)

## ğŸ› æ•…éšœæ’é™¤

### MetaMask æ— æ³•è¿æ¥

```bash
# ç¡®ä¿ Hardhat èŠ‚ç‚¹æ­£åœ¨è¿è¡Œ
npx hardhat node

# åœ¨å¦ä¸€ä¸ªç»ˆç«¯çª—å£éƒ¨ç½²åˆçº¦
cd contracts
npx hardhat run scripts/deploy.js --network localhost
```

### ç½‘ç»œåˆ‡æ¢å¤±è´¥

å¦‚æœæ— æ³•åˆ‡æ¢åˆ° Hardhat ç½‘ç»œï¼š

1. åœ¨ MetaMask ä¸­æ‰‹åŠ¨åˆ‡æ¢åˆ° "Hardhat Local"
2. åˆ·æ–°æµè§ˆå™¨é¡µé¢
3. é‡æ–°è¿æ¥é’±åŒ…

### åˆçº¦åœ°å€æ— æ•ˆ

éƒ¨ç½²åˆçº¦åï¼Œç¡®ä¿å°†åˆçº¦åœ°å€ä¿å­˜åˆ°ç¯å¢ƒå˜é‡æˆ–é…ç½®æ–‡ä»¶ä¸­ã€‚

---

**é…ç½®å®Œæˆï¼** ğŸ‰

ç°åœ¨ä½ å¯ä»¥åœ¨æœ¬åœ°ç¯å¢ƒä¸­æ„‰å¿«åœ°å¼€å‘å’Œæµ‹è¯•ä½ çš„ Web3 æŠ•ç¥¨åº”ç”¨äº†ï¼
